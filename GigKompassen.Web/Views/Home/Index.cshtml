@using GigKompassen.Models.Accounts
@using GigKompassen.Web.Components.Profiles
@using Microsoft.AspNetCore.Identity
@inject UserManager<ApplicationUser> UserManager
@model HomeViewModel
@{
    ViewData["Title"] = "Home Page";
}
@{
  if (Model.StatusMessage != null)
  {
    <h1>@Model.StatusMessage</h1>
  }
}
@{
  var userId = UserManager.GetUserId(User);
}

<div class="text-center">
  <h1 class="display-4">Welcome</h1>
  <p>Learn about <a href="https://learn.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>

  @if (User.Identity != null && User.Identity.IsAuthenticated)
	{
    <form method="post" action="/Home/DeleteProfile">
      <button type="submit">Delete Profile</button>
    </form>
	}

  <component type="typeof(CreateArtistProfileComponent)"
             render-mode="ServerPrerendered"
             param-UserId="@Guid.Parse(userId)" />
</div>
